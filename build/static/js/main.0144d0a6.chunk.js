(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(2),u=n(14),r=n.n(u),s=n(3),a=(n(19),n(0)),o=function(e){var t=e.onChange,n=e.value;return Object(a.jsxs)("div",{children:["filter shown with",Object(a.jsx)("input",{onChange:t,value:n})]})},i=function(e){var t=e.onSubmit,n=e.onChangeName,c=e.valueName,u=e.onChangeNumber,r=e.valueNumber;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:["name: ",Object(a.jsx)("input",{onChange:n,value:c})]}),Object(a.jsxs)("div",{children:["number: ",Object(a.jsx)("input",{onChange:u,value:r})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.name,n=e.number,c=e.id,u=e.onDelete;return Object(a.jsxs)("li",{children:[t," ",n," ",Object(a.jsx)("button",{onClick:function(){return u(c,t)},children:"delete"})]})},l=function(e){var t=e.persons,n=e.filter,c=e.onDelete;return Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:t.filter((function(e){return""===n||e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(a.jsx)(j,{id:e.id,name:e.name,number:e.number,onDelete:c},e.id)}))})})},b=function(e){var t=e.message,n=e.type;return""===t||"successful"!==n&&"unsuccessful"!==n?null:Object(a.jsx)("div",{className:n,children:Object(a.jsx)("p",{children:t})})},d=n(4),f=n.n(d),m="/api/persons",h={getAll:function(){return f.a.get(m).then((function(e){return e.data}))},create:function(e){return f.a.post(m,e).then((function(e){return e.data}))},remove:function(e){return f.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},update:function(e,t){return f.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))}},O=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],u=t[1],r=Object(c.useState)(""),j=Object(s.a)(r,2),d=j[0],f=j[1],m=Object(c.useState)(""),O=Object(s.a)(m,2),p=O[0],v=O[1],x=Object(c.useState)(""),g=Object(s.a)(x,2),y=g[0],C=g[1],N=Object(c.useState)({message:"",type:""}),w=Object(s.a)(N,2),S=w[0],D=w[1];Object(c.useEffect)((function(){h.getAll().then((function(e){return u(e)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(o,{onChange:function(e){C(e.target.value)},value:y}),Object(a.jsx)("h2",{children:"Add a new"}),Object(a.jsx)(i,{onSubmit:function(e){e.preventDefault();var t={name:d,number:p};n.some((function(e){return e.name===d}))?(D({message:"Person ".concat(d," already exists"),type:"unsuccessful"}),setTimeout((function(){D({message:"",type:""})}),5e3)):h.create(t).then((function(e){u((function(t){return t.concat(e)})),D({message:"Aded ".concat(e.name),type:"successful"}),setTimeout((function(){D({message:"",type:""})}),5e3),f(""),v("")}))},onChangeName:function(e){f(e.target.value)},valueName:d,onChangeNumber:function(e){v(e.target.value)},valueNumber:p}),Object(a.jsx)("h2",{children:"Numbers"}),Object(a.jsx)(b,{message:S.message,type:S.type}),Object(a.jsx)(l,{persons:n,filter:y,onDelete:function(e,t){window.confirm("Delete ".concat(t,"?"))&&h.remove(e).then((function(){u((function(t){return t.filter((function(t){return t.id!==e}))})),D({message:"Deleted ".concat(t),type:"successful"}),setTimeout((function(){D({message:"",type:""})}),5e3)}))}})]})};r.a.render(Object(a.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0144d0a6.chunk.js.map